<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>
    <link rel="stylesheet" href="CSS-C.css">
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>  
    <script>
        
        Memory  = "0";      
        Current = "0";      
        Operation = 0;      
        MAXLENGTH = 30;     
        
        
        function screen(val)
            {
                document.getElementById("inputtext").value=val;
        }

        function AddDigit(val)   {
        
        {if (Current.length > MAXLENGTH)
            { Current = "Too long";
            } else
            { if (    (eval(Current) == 0)
              && (Current.indexOf(".") == -1)
            )
           { Current = val;
           } else
           { Current = Current + val;
           };
    }; };
        document.getElementById("inputtext").value = Current;
    
        }


        function Dot()                  
    {
        if ( Current.length == 0)     
            { Current = "0.";
            } else
            {  if ( Current.indexOf(".") == -1)
                { Current = Current + ".";
        };   };
        document.getElementById("inputtext").value = Current;
    }
    function Operate(op)            
        {
            if (op.indexOf("*") > -1) { Operation = 1; };       
            if (op.indexOf("/") > -1) { Operation = 2; };       
            if (op.indexOf("+") > -1) { Operation = 3; };       
            if (op.indexOf("-") > -1) { Operation = 4; };       

            Memory = Current;                 
            
            Current = "";                     
  
  document.getElementById("inputtext").value+=op;
  
            
        }

        function FixCurrent()
    {
        document.getElementById("inputtext").value=val;
        
        
        if (Current.indexOf("NaN") != -1)
            { Current = "Not Valid";
            };
            document.getElementById("inputtext").value=val;
    }
   


    function Calculate()            
        { 
            if (Operation == 1) { Current = eval(Memory) * eval(Current); };
            if (Operation == 2) { Current = eval(Memory) / eval(Current); };
            if (Operation == 3) { Current = eval(Memory) + eval(Current); };
            if (Operation == 4) { Current = eval(Memory) - eval(Current); };
                Operation = 0;                
                Memory    = "0";              
                document.getElementById("inputtext").value = Current;
        }   
        

        function Clear()               
        { 
        
            var valueNeeded = document.getElementById("inputtext").value;
                var finalValueNeeded = valueNeeded.substr(0, valueNeeded.length-1); 
                document.getElementById("inputtext").value=finalValueNeeded;
        } 

    function AllClear()             
        { Current = "0";
          Operation = 0;               
          Memory = "0";                 
          document.getElementById("inputtext").value = Current;
        }


    </script>
</head>
<body>
    <div class="container" name="Calculator">
          
        <div class="calc">
            <h1> JS Calculator</h1>
            <input type="text" id="inputtext" placeholder="0">
            <button onclick="Operate('+')" >+</button>
            <button onclick="Operate('-')">-</button>
            <button onclick="Operate('*')">*</button>
            <button onclick="Operate('/')">/</button>
            <button onclick="AddDigit('1')">1</button>
            <button onclick="AddDigit('2')">2</button>
            <button onclick="AddDigit('3')">3</button>
            <button onclick="AddDigit('4')">4</button>
            <button onclick="AddDigit('5')">5</button>
            <button onclick="AddDigit('6')">6</button>
            <button onclick="AddDigit('7')">7</button>
            <button onclick="AddDigit('8')">8</button>
            <button onclick="AddDigit('9')">9</button>
            <button onclick="AddDigit('0')">0</button>
            <button onclick="Dot('.')">.</button>
            <button onclick="Calculate()" >=</button>
            <button onclick="AllClear()" class="clear" >All Clear</button>
            <button onclick="Clear()" class="clear" >Clear</button>
               
            
            
        </div>
    </div>
</body>
</html>